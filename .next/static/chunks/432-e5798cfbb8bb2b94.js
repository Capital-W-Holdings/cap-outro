"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[432],{1432:function(e,t,s){s.d(t,{w8:function(){return R},Ir:function(){return h},Xy:function(){return M},XX:function(){return j}});var a=s(7437),l=s(7648),r=s(7782),i=s(525),n=s(5805),d=s(1047),c=s(9820);let o={draft:{bg:"bg-gray-500/10",text:"text-gray-400"},active:{bg:"bg-green-500/10",text:"text-green-400"},paused:{bg:"bg-yellow-500/10",text:"text-yellow-400"},completed:{bg:"bg-blue-500/10",text:"text-blue-400"}};function m(e){let{campaign:t,onMenuClick:s}=e,m=o[t.status],x=t.raise_amount?"$".concat((t.raise_amount/1e6).toFixed(1),"M"):"TBD";return(0,a.jsx)(c.Zb,{hover:!0,className:"relative group",children:(0,a.jsxs)(l.default,{href:"/campaigns/".concat(t.id),className:"block",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white group-hover:text-brand-gold transition-colors",children:t.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium ".concat(m.bg," ").concat(m.text),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)}),t.raise_type&&(0,a.jsx)("span",{className:"text-xs text-gray-500",children:t.raise_type.replace("_"," ").toUpperCase()})]})]}),s&&(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),s(t)},className:"p-1 text-gray-500 hover:text-white hover:bg-dark-600 rounded transition-colors opacity-0 group-hover:opacity-100",children:(0,a.jsx)(r.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 text-brand-gold"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Target"}),(0,a.jsx)("p",{className:"text-white font-medium",children:x})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4 text-brand-gold"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Investors"}),(0,a.jsx)("p",{className:"text-white font-medium",children:"--"})]})]})]}),t.sector.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:[t.sector.slice(0,3).map(e=>(0,a.jsx)("span",{className:"px-2 py-0.5 bg-dark-600 rounded text-xs text-gray-300",children:e},e)),t.sector.length>3&&(0,a.jsxs)("span",{className:"px-2 py-0.5 text-xs text-gray-500",children:["+",t.sector.length-3," more"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-dark-600 text-xs text-gray-500",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(d.Z,{className:"w-3.5 h-3.5"}),(0,a.jsxs)("span",{children:["Created ",new Date(t.created_at).toLocaleDateString()]})]})})]})})}var x=s(8989),g=s(2388);function h(e){let{onCreateCampaign:t,onCampaignMenu:s}=e,{data:l,isLoading:r,error:i,refetch:n}=(0,x.tj)();return r?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((e,t)=>(0,a.jsx)(g.As,{},t))}):i?(0,a.jsx)(g.Te,{error:i,onRetry:n}):l&&0!==l.length?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(e=>(0,a.jsx)(m,{campaign:e,onMenuClick:s},e.id))}):(0,a.jsx)(g.dh,{onCreateCampaign:t})}var u=s(2265);let p=[{value:"seed",label:"Seed"},{value:"series_a",label:"Series A"},{value:"series_b",label:"Series B"},{value:"bridge",label:"Bridge"},{value:"note",label:"Convertible Note"}];function j(e){let{isOpen:t,onClose:s,onSuccess:l}=e,[r,i]=(0,u.useState)(""),[n,d]=(0,u.useState)(""),[c,o]=(0,u.useState)(""),[m,h]=(0,u.useState)(""),[j,b]=(0,u.useState)({}),{mutate:v,isLoading:f,error:N}=(0,x.Bb)(),y=async e=>{if(e.preventDefault(),b({}),!r.trim()){b({name:"Campaign name is required"});return}try{await v({name:r.trim(),raise_amount:n?1e6*parseFloat(n):void 0,raise_type:c||void 0,sector:m?m.split(",").map(e=>e.trim()).filter(Boolean):void 0}),i(""),d(""),o(""),h(""),null==l||l(),s()}catch(e){}},w=()=>{i(""),d(""),o(""),h(""),b({}),s()};return(0,a.jsx)(g.u_,{isOpen:t,onClose:w,title:"Create Campaign",size:"md",children:(0,a.jsxs)("form",{onSubmit:y,children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(g.II,{label:"Campaign Name",placeholder:"e.g., Series A Raise",value:r,onChange:e=>i(e.target.value),error:j.name,disabled:f,required:!0}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(g.II,{label:"Target Amount (M)",type:"number",placeholder:"e.g., 5",value:n,onChange:e=>d(e.target.value),helperText:"In millions",disabled:f}),(0,a.jsx)(g.Ph,{label:"Raise Type",options:p,value:c,onChange:e=>o(e.target.value),placeholder:"Select type",disabled:f})]}),(0,a.jsx)(g.II,{label:"Sectors",placeholder:"e.g., fintech, ai, saas",value:m,onChange:e=>h(e.target.value),helperText:"Comma-separated",disabled:f}),N&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:N.message})]}),(0,a.jsxs)(g.mz,{children:[(0,a.jsx)(g.zx,{type:"button",variant:"ghost",onClick:w,disabled:f,children:"Cancel"}),(0,a.jsx)(g.zx,{type:"submit",variant:"primary",isLoading:f,children:"Create Campaign"})]})]})})}var b=s(9345),v=s(5252),f=s(3085),N=s(9554);function y(e){let{label:t,value:s,icon:l,trend:r,suffix:n,className:d=""}=e,c=r?r.value>0?"text-green-400":r.value<0?"text-red-400":"text-gray-400":"",o=r?r.value>0?i.Z:r.value<0?f.Z:N.Z:null;return(0,a.jsxs)("div",{className:"bg-dark-800 border border-dark-600 rounded-xl p-4 ".concat(d),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:t}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-white",children:[s,n&&(0,a.jsx)("span",{className:"text-lg text-gray-400 ml-1",children:n})]})]}),l&&(0,a.jsx)("div",{className:"p-2 bg-dark-700 rounded-lg text-brand-gold",children:l})]}),r&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-2 text-sm ".concat(c),children:[o&&(0,a.jsx)(o,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[r.value>0?"+":"",r.value,"%"]}),r.label&&(0,a.jsx)("span",{className:"text-gray-500 ml-1",children:r.label})]})]})}function w(e){let{value:t,max:s,label:l,showPercentage:r=!0,size:i="md",color:n="gold",segments:d}=e,c=s>0?Math.min(t/s*100,100):0;return(0,a.jsxs)("div",{children:[(l||r)&&(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[l&&(0,a.jsx)("span",{className:"text-sm text-gray-400",children:l}),r&&(0,a.jsxs)("span",{className:"text-sm font-medium text-white",children:[c.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-dark-600 rounded-full overflow-hidden ".concat({sm:"h-1.5",md:"h-2.5",lg:"h-4"}[i]),children:d?(0,a.jsx)("div",{className:"flex h-full",children:d.map((e,t)=>{let l=s>0?e.value/s*100:0;return(0,a.jsx)("div",{className:"h-full ".concat(e.color),style:{width:"".concat(l,"%")},title:e.label},t)})}):(0,a.jsx)("div",{className:"h-full ".concat({gold:"bg-brand-gold",green:"bg-green-500",blue:"bg-blue-500",purple:"bg-purple-500"}[n]," transition-all duration-500"),style:{width:"".concat(c,"%")}})})]})}function _(e){let{stages:t,showConversion:s=!0}=e,l=Math.max(...t.map(e=>e.value),1);return(0,a.jsx)("div",{className:"space-y-3",children:t.map((e,r)=>{var i;let n=e.value/l*100,d=r>0?null===(i=t[r-1])||void 0===i?void 0:i.value:null,c=d&&d>0?(e.value/d*100).toFixed(0):null;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-sm text-gray-400",children:e.label}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:e.value}),s&&c&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["(",c,"%)"]})]})]}),(0,a.jsx)("div",{className:"h-8 bg-dark-600 rounded overflow-hidden",children:(0,a.jsx)("div",{className:"h-full ".concat(e.color," transition-all duration-500 flex items-center justify-end pr-2"),style:{width:"".concat(Math.max(n,5),"%")},children:n>20&&(0,a.jsx)("span",{className:"text-xs font-medium text-white/80",children:e.value})})})]},e.label)})})}var C=s(3417),k=s(1671),S=s(9388);let Z={email_sent:b.Z,email_opened:b.Z,email_replied:C.Z,meeting_scheduled:d.Z,meeting_held:n.Z,committed:k.Z,passed:S.Z,note:C.Z},I={email_sent:"bg-blue-500/10 text-blue-400 border-blue-500/20",email_opened:"bg-cyan-500/10 text-cyan-400 border-cyan-500/20",email_replied:"bg-green-500/10 text-green-400 border-green-500/20",meeting_scheduled:"bg-purple-500/10 text-purple-400 border-purple-500/20",meeting_held:"bg-indigo-500/10 text-indigo-400 border-indigo-500/20",committed:"bg-brand-gold/10 text-brand-gold border-brand-gold/20",passed:"bg-red-500/10 text-red-400 border-red-500/20",note:"bg-gray-500/10 text-gray-400 border-gray-500/20"};function D(e){let{activities:t,maxItems:s=10}=e,l=t.slice(0,s);return 0===l.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No recent activity"}):(0,a.jsx)("div",{className:"space-y-4",children:l.map((e,t)=>{let s=Z[e.type],r=I[e.type],i=t===l.length-1;return(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center border ".concat(r),children:(0,a.jsx)(s,{className:"w-4 h-4"})}),!i&&(0,a.jsx)("div",{className:"absolute top-8 left-1/2 -translate-x-1/2 w-px h-full bg-dark-600"})]}),(0,a.jsx)("div",{className:"flex-1 pb-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white",children:e.title}),e.investor&&(0,a.jsx)("p",{className:"text-sm text-gray-400",children:e.investor}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]}),(0,a.jsx)("time",{className:"text-xs text-gray-500 whitespace-nowrap",children:function(e){let t=new Date,s=new Date(e),a=Math.floor((t.getTime()-s.getTime())/6e4),l=Math.floor(a/60),r=Math.floor(l/24);return a<1?"Just now":a<60?"".concat(a,"m ago"):l<24?"".concat(l,"h ago"):r<7?"".concat(r,"d ago"):s.toLocaleDateString()}(e.timestamp)})]})})]},e.id)})})}let F=[{id:"1",type:"committed",title:"Investment committed",investor:"Sarah Chen (Sequoia)",description:"$500K committed",timestamp:new Date(Date.now()-36e5).toISOString()},{id:"2",type:"meeting_held",title:"Meeting completed",investor:"Mike Johnson (a16z)",timestamp:new Date(Date.now()-72e5).toISOString()},{id:"3",type:"email_replied",title:"Email reply received",investor:"Lisa Park (First Round)",description:"Interested in scheduling a call",timestamp:new Date(Date.now()-144e5).toISOString()},{id:"4",type:"email_opened",title:"Email opened",investor:"David Kim (Accel)",timestamp:new Date(Date.now()-288e5).toISOString()},{id:"5",type:"meeting_scheduled",title:"Meeting scheduled",investor:"Emily Wong (Greylock)",description:"Tomorrow at 2:00 PM",timestamp:new Date(Date.now()-432e5).toISOString()}];function M(e){let{campaign:t}=e,{data:s,isLoading:l,error:r,refetch:i}=(0,x.x0)(t.id);if(l)return(0,a.jsx)(g.h2,{});if(r)return(0,a.jsx)(g.Te,{error:r,onRetry:i});if(!s)return(0,a.jsx)(g.Te,{error:"Failed to load stats"});let c=e=>e>=1e6?"$".concat((e/1e6).toFixed(1),"M"):e>=1e3?"$".concat((e/1e3).toFixed(0),"K"):"$".concat(e),o=[{label:"Total Investors",value:s.total_investors,color:"bg-gray-500"},{label:"Contacted",value:s.contacted,color:"bg-blue-500"},{label:"Responded",value:s.responded,color:"bg-cyan-500"},{label:"Meetings",value:s.meetings,color:"bg-purple-500"},{label:"Committed",value:s.committed,color:"bg-green-500"}];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(g.Zb,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Fundraising Progress"}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[c(s.committed_amount)," committed of ",c(s.target_amount)," target"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-3xl font-bold text-brand-gold",children:[s.percent_committed,"%"]}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"committed"})]})]}),(0,a.jsx)(w,{value:s.committed_amount+s.soft_amount,max:s.target_amount,showPercentage:!1,size:"lg",segments:[{value:s.committed_amount,color:"bg-green-500",label:"Committed"},{value:s.soft_amount,color:"bg-yellow-500",label:"Soft Commits"}]}),(0,a.jsxs)("div",{className:"flex items-center gap-6 mt-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,a.jsxs)("span",{className:"text-gray-400",children:["Committed: ",c(s.committed_amount)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,a.jsxs)("span",{className:"text-gray-400",children:["Soft Commits: ",c(s.soft_amount)]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(y,{label:"Total Investors",value:s.total_investors,icon:(0,a.jsx)(n.Z,{className:"w-5 h-5"})}),(0,a.jsx)(y,{label:"Response Rate",value:"".concat(s.response_rate.toFixed(0),"%"),icon:(0,a.jsx)(b.Z,{className:"w-5 h-5"}),trend:{value:12,label:"vs last week"}}),(0,a.jsx)(y,{label:"Meeting Rate",value:"".concat(s.meeting_rate.toFixed(0),"%"),icon:(0,a.jsx)(d.Z,{className:"w-5 h-5"}),trend:{value:8,label:"vs last week"}}),(0,a.jsx)(y,{label:"Committed",value:c(s.committed_amount),icon:(0,a.jsx)(v.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(g.Zb,{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Investor Funnel"}),(0,a.jsx)(_,{stages:o})]}),(0,a.jsxs)(g.Zb,{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Outreach Performance"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"Emails Sent"}),(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:s.outreach_sent})]}),(0,a.jsx)(w,{value:s.outreach_sent,max:s.outreach_sent,showPercentage:!1,size:"sm",color:"blue"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"Open Rate"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-white",children:[s.open_rate.toFixed(1),"%"]})]}),(0,a.jsx)(w,{value:s.open_rate,max:100,showPercentage:!1,size:"sm",color:"green"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"Click Rate"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-white",children:[s.click_rate.toFixed(1),"%"]})]}),(0,a.jsx)(w,{value:s.click_rate,max:100,showPercentage:!1,size:"sm",color:"purple"})]})]})]})]}),(0,a.jsxs)(g.Zb,{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Activity"}),(0,a.jsx)(D,{activities:F,maxItems:5})]})]})}var T=s(3247),z=s(401);function R(e){let{isOpen:t,onClose:s,campaignId:l,onSuccess:r}=e,[i,n]=(0,u.useState)(""),[d,c]=(0,u.useState)([]),{data:o,isLoading:m}=(0,x.uF)(i),{mutate:h,isLoading:p}=(0,x.NS)(),j=e=>{c(t=>t.includes(e.id)?t.filter(t=>t!==e.id):[...t,e.id])},b=async()=>{try{for(let e of d)await h({campaign_id:l,investor_id:e,stage:"not_contacted"});c([]),n(""),null==r||r(),s()}catch(e){}},v=()=>{c([]),n(""),s()};return(0,a.jsxs)(g.u_,{isOpen:t,onClose:v,title:"Add Investors to Campaign",size:"lg",children:[(0,a.jsxs)("div",{className:"relative mb-4",children:[(0,a.jsx)(T.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),(0,a.jsx)(g.II,{type:"text",placeholder:"Search investors...",value:i,onChange:e=>n(e.target.value),className:"pl-10"})]}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:m?(0,a.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Loading..."}):o&&0!==o.length?o.map(e=>{let t=d.includes(e.id);return(0,a.jsxs)("button",{onClick:()=>j(e),className:"\n                  w-full flex items-center gap-3 p-3 rounded-lg border transition-colors text-left\n                  ".concat(t?"bg-brand-gold/10 border-brand-gold":"bg-dark-700 border-dark-600 hover:border-dark-500","\n                "),children:[(0,a.jsx)("div",{className:"\n                  w-5 h-5 rounded border flex items-center justify-center flex-shrink-0\n                  ".concat(t?"bg-brand-gold border-brand-gold":"border-gray-500","\n                "),children:t&&(0,a.jsx)(z.Z,{className:"w-3 h-3 text-dark-900"})}),(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-dark-600 flex items-center justify-center text-brand-gold text-sm font-semibold flex-shrink-0",children:e.name.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white truncate",children:e.name}),e.firm&&(0,a.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.firm})]}),null!==e.fit_score&&(0,a.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Fit"}),(0,a.jsx)("p",{className:"text-sm font-medium ".concat(e.fit_score>=80?"text-green-400":e.fit_score>=60?"text-yellow-400":"text-gray-400"),children:e.fit_score})]})]},e.id)}):(0,a.jsx)("div",{className:"text-center py-8 text-gray-400",children:i?"No investors found":"No investors in database"})}),d.length>0&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-dark-700 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-gray-300",children:[(0,a.jsx)("span",{className:"font-medium text-brand-gold",children:d.length})," investor",1!==d.length?"s":""," selected"]})}),(0,a.jsxs)(g.mz,{children:[(0,a.jsx)(g.zx,{variant:"ghost",onClick:v,disabled:p,children:"Cancel"}),(0,a.jsx)(g.zx,{variant:"primary",onClick:b,disabled:0===d.length,isLoading:p,children:"Add to Campaign"})]})]})}}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{2208:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(9205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3229:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(9205).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},5868:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(9205).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},8930:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(9205).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},257:function(e,t,n){"use strict";var a,r;e.exports=(null==(a=n.g.process)?void 0:a.env)&&"object"==typeof(null==(r=n.g.process)?void 0:r.env)?n.g.process:n(4227)},4227:function(e){!function(){var t={229:function(e){var t,n,a,r=e.exports={};function i(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var o=[],c=!1,u=-1;function d(){c&&a&&(c=!1,a.length?o=a.concat(o):u=-1,o.length&&p())}function p(){if(!c){var e=l(d);c=!0;for(var t=o.length;t;){for(a=o,o=[];++u<t;)a&&a[u].run();u=-1,t=o.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.push(new h(e,t)),1!==o.length||c||l(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}},s=!0;try{t[e](i,i.exports,a),s=!1}finally{s&&delete n[e]}return i.exports}a.ab="//";var r=a(229);e.exports=r}()},2202:function(e,t,n){"use strict";n.d(t,{u:function(){return k},HP:function(){return f}});var a=n(7437),r=n(9345),i=n(5868),s=n(9205);let l=(0,s.Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var o=n(8930),c=n(9820);let u={initial:{label:"Initial Outreach",color:"bg-blue-500/10 text-blue-400"},followup:{label:"Follow-up",color:"bg-purple-500/10 text-purple-400"},intro_request:{label:"Intro Request",color:"bg-cyan-500/10 text-cyan-400"},update:{label:"Update",color:"bg-green-500/10 text-green-400"}};function d(e){let{template:t,onEdit:n,onDelete:s,onDuplicate:d}=e,p=u[t.type];return(0,a.jsx)(c.Zb,{hover:!0,className:"group",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-dark-600 flex items-center justify-center text-brand-gold flex-shrink-0",children:(0,a.jsx)(r.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-white truncate",children:t.name}),(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium ".concat(p.color),children:p.label})]}),(0,a.jsx)("p",{className:"text-sm text-gray-400 truncate mb-2",children:t.subject}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:[t.variables.length," variables"]}),(0,a.jsxs)("span",{children:["Created ",new Date(t.created_at).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n&&(0,a.jsx)("button",{onClick:()=>n(t),className:"p-2 text-gray-500 hover:text-white hover:bg-dark-600 rounded transition-colors",title:"Edit",children:(0,a.jsx)(i.Z,{className:"w-4 h-4"})}),d&&(0,a.jsx)("button",{onClick:()=>d(t),className:"p-2 text-gray-500 hover:text-white hover:bg-dark-600 rounded transition-colors",title:"Duplicate",children:(0,a.jsx)(l,{className:"w-4 h-4"})}),s&&(0,a.jsx)("button",{onClick:()=>s(t),className:"p-2 text-gray-500 hover:text-red-400 hover:bg-dark-600 rounded transition-colors",title:"Delete",children:(0,a.jsx)(o.Z,{className:"w-4 h-4"})})]})]})})}var p=n(2265),h=n(8989),m=n(2388);let x=[{value:"",label:"All Types"},{value:"initial",label:"Initial Outreach"},{value:"followup",label:"Follow-up"},{value:"intro_request",label:"Intro Request"},{value:"update",label:"Update"}];function f(e){var t;let{onEdit:n,onCreateTemplate:i}=e,[s,l]=(0,p.useState)(""),{data:o,isLoading:c,error:u,refetch:f}=(0,h.zE)(s||void 0);return c?(0,a.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((e,t)=>(0,a.jsx)(m.As,{},t))}):u?(0,a.jsx)(m.Te,{error:u,onRetry:f}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsx)(m.Ph,{options:x,value:s,onChange:e=>l(e.target.value),className:"w-48"}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[null!==(t=null==o?void 0:o.length)&&void 0!==t?t:0," template",(null==o?void 0:o.length)!==1?"s":""]})]}),o&&0!==o.length?(0,a.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,a.jsx)(d,{template:e,onEdit:n,onDelete:async e=>{confirm("Delete this template?")&&(console.log("Delete:",e.id),f())},onDuplicate:e=>{console.log("Duplicate:",e.id)}},e.id))}):(0,a.jsx)(m.ub,{icon:(0,a.jsx)(r.Z,{className:"w-8 h-8 text-gray-500"}),title:"No templates found",description:s?"Try changing your filters":"Create your first email template",action:i?{label:"Create Template",onClick:i}:void 0})]})}let v=(0,s.Z)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]);var g=n(2208),y=n(3229);let b=(0,s.Z)("variable",[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]);function j(e,t){let n=e;for(let[e,a]of Object.entries(t))if(void 0!==a){let t=RegExp("\\{\\{\\s*".concat(e,"\\s*\\}\\}"),"g");n=n.replace(t,a)}return n.replace(/\{\{\s*\w+\s*\}\}/g,"")}n(257);let w=[{value:"initial",label:"Initial Outreach"},{value:"followup",label:"Follow-up"},{value:"intro_request",label:"Intro Request"},{value:"update",label:"Update"}],N={investor_name:"Sarah Chen",investor_first_name:"Sarah",investor_firm:"Sequoia Capital",founder_name:"Alex Founder",company_name:"My Startup",raise_type:"Series A",raise_amount:"$5M",deck_url:"https://deck.mystartup.com",calendar_link:"https://calendly.com/alex/30min",recent_milestone:"hit 100K users",key_metric_1:"100K+ monthly active users",key_metric_2:"40% month-over-month growth",key_metric_3:"95% customer retention"};function k(e){var t,n,r,i,s;let{template:l,onSave:o,onCancel:c}=e,[u,d]=(0,p.useState)(null!==(t=null==l?void 0:l.name)&&void 0!==t?t:""),[x,f]=(0,p.useState)(null!==(n=null==l?void 0:l.type)&&void 0!==n?n:"initial"),[k,T]=(0,p.useState)(null!==(r=null==l?void 0:l.subject)&&void 0!==r?r:""),[_,C]=(0,p.useState)(null!==(i=null==l?void 0:l.body)&&void 0!==i?i:""),[S,E]=(0,p.useState)(!1),{mutate:D,isLoading:L}=(0,h.eD)(),{mutate:M,isLoading:Z}=(0,h.FF)(null!==(s=null==l?void 0:l.id)&&void 0!==s?s:""),I=!!l,P=(0,p.useMemo)(()=>(function(e){let t;let n=/\{\{\s*(\w+)\s*\}\}/g,a=[];for(;null!==(t=n.exec(e));){let e=t[1];e&&!a.includes(e)&&a.push(e)}return a})(k+" "+_),[k,_]),q=(0,p.useMemo)(()=>({subject:j(k,N),body:j(_,N)}),[k,_]),O=async()=>{try{I?await M({name:u,type:x,subject:k,body:_}):await D({name:u,type:x,subject:k,body:_}),null==o||o()}catch(e){}},z=e=>{let t=document.getElementById("template-body");if(t){let n=t.selectionStart,a=t.selectionEnd;C(_.substring(0,n)+"{{".concat(e,"}}")+_.substring(a)),setTimeout(()=>{t.focus(),t.setSelectionRange(n+e.length+4,n+e.length+4)},0)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:I?"Edit Template":"Create Template"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.zx,{variant:"outline",onClick:()=>E(!S),leftIcon:S?(0,a.jsx)(v,{className:"w-4 h-4"}):(0,a.jsx)(g.Z,{className:"w-4 h-4"}),children:S?"Edit":"Preview"}),c&&(0,a.jsx)(m.zx,{variant:"ghost",onClick:c,children:"Cancel"}),(0,a.jsx)(m.zx,{variant:"primary",onClick:O,isLoading:L||Z,disabled:!u||!k||!_,leftIcon:(0,a.jsx)(y.Z,{className:"w-4 h-4"}),children:I?"Save Changes":"Create Template"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"col-span-2 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(m.II,{label:"Template Name",placeholder:"e.g., Cold Outreach - Series A",value:u,onChange:e=>d(e.target.value)}),(0,a.jsx)(m.Ph,{label:"Type",options:w,value:x,onChange:e=>f(e.target.value)})]}),(0,a.jsx)(m.II,{label:"Subject Line",placeholder:"e.g., Quick intro - {{company_name}}",value:k,onChange:e=>T(e.target.value)}),S?(0,a.jsxs)(m.Zb,{children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Subject"}),(0,a.jsx)("p",{className:"text-white font-medium",children:q.subject||"No subject"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Body"}),(0,a.jsx)("div",{className:"prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:q.body||'<p class="text-gray-500">No content</p>'}})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Email Body"}),(0,a.jsx)("textarea",{id:"template-body",className:"w-full px-3 py-2 bg-dark-700 border border-dark-500 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-brand-gold focus:border-transparent resize-none font-mono text-sm",rows:15,placeholder:"<p>Hi {{investor_first_name}},</p>...",value:_,onChange:e=>C(e.target.value)}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Supports HTML. Use ","{{variable}}"," for personalization."]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(m.Zb,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(b,{className:"w-4 h-4 text-brand-gold"}),(0,a.jsx)("h3",{className:"font-medium text-white",children:"Variables"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:["Used in template (",P.length,")"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:P.length>0?P.map(e=>(0,a.jsx)("span",{className:"px-2 py-0.5 bg-brand-gold/10 text-brand-gold text-xs rounded",children:e},e)):(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"No variables used"})})]}),(0,a.jsxs)("div",{className:"border-t border-dark-600 pt-3",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Available variables"}),(0,a.jsx)("div",{className:"space-y-1 max-h-64 overflow-y-auto",children:Object.keys(N).map(e=>(0,a.jsxs)("button",{onClick:()=>z(e),className:"flex items-center justify-between w-full px-2 py-1.5 text-left text-sm rounded hover:bg-dark-600 transition-colors group",children:[(0,a.jsx)("code",{className:"text-gray-300",children:"{{".concat(e,"}}")}),(0,a.jsx)("span",{className:"text-xs text-gray-500 opacity-0 group-hover:opacity-100",children:"Insert"})]},e))})]})]})]}),(0,a.jsxs)(m.Zb,{children:[(0,a.jsx)("h3",{className:"font-medium text-white mb-2",children:"Tips"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-400 space-y-1",children:[(0,a.jsx)("li",{children:"• Keep subject lines under 50 characters"}),(0,a.jsx)("li",{children:"• Personalize with investor name and firm"}),(0,a.jsx)("li",{children:"• Include a clear call-to-action"}),(0,a.jsx)("li",{children:"• Test with the preview before sending"})]})]})]})]})]})}},8989:function(e,t,n){"use strict";n.d(t,{pf:function(){return f},NS:function(){return d},Pe:function(){return c},yQ:function(){return i},x0:function(){return s},tj:function(){return r},Bb:function(){return l},DE:function(){return m},eD:function(){return b},uF:function(){return o},Gq:function(){return v},xs:function(){return u},Hv:function(){return h},cI:function(){return p},eR:function(){return y},zE:function(){return g},pF:function(){return k},Gn:function(){return N},Mn:function(){return x},FF:function(){return j},aF:function(){return w}});var a=n(584);function r(){return(0,a.i)("/api/campaigns")}function i(e){return(0,a.i)("/api/campaigns/".concat(e))}function s(e){return(0,a.i)("/api/campaigns/".concat(e,"/stats"))}function l(){return(0,a.D)("/api/campaigns","POST")}function o(e){let t=e?"/api/investors?search=".concat(encodeURIComponent(e)):"/api/investors";return(0,a.i)(t)}function c(){return(0,a.D)("/api/investors/bulk","POST")}function u(e){return(0,a.i)(e?"/api/pipeline?campaign_id=".concat(e):"/api/pipeline")}function d(){return(0,a.D)("/api/pipeline","POST")}function p(e){return(0,a.i)(e?"/api/sequences?campaign_id=".concat(e):"/api/sequences")}function h(e){return(0,a.i)("/api/sequences/".concat(e))}function m(){return(0,a.D)("/api/sequences","POST")}function x(e){return(0,a.D)("/api/sequences/".concat(e),"PATCH")}function f(e){return(0,a.D)("/api/sequences/".concat(e),"POST")}function v(e){let t=new URLSearchParams;(null==e?void 0:e.campaign_id)&&t.set("campaign_id",e.campaign_id),(null==e?void 0:e.investor_id)&&t.set("investor_id",e.investor_id),(null==e?void 0:e.status)&&t.set("status",e.status);let n=t.toString();return(0,a.i)(n?"/api/outreach?".concat(n):"/api/outreach")}function g(e){return(0,a.i)(e?"/api/templates?type=".concat(e):"/api/templates")}function y(e){return(0,a.i)("/api/templates/".concat(e))}function b(){return(0,a.D)("/api/templates","POST")}function j(e){return(0,a.D)("/api/templates/".concat(e),"PATCH")}function w(){return(0,a.i)("/api/user")}function N(){return(0,a.D)("/api/user","PATCH")}function k(){return(0,a.D)("/api/user","PUT")}},584:function(e,t,n){"use strict";n.d(t,{D:function(){return i},i:function(){return r}});var a=n(2265);function r(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{immediate:!0},[r,i]=(0,a.useState)({data:null,isLoading:null===(t=n.immediate)||void 0===t||t,error:null}),s=(0,a.useCallback)(async()=>{i(e=>({...e,isLoading:!0,error:null}));try{let t=await fetch(e),n=await t.json();if(!n.success)throw Error(n.error.message);return i({data:n.data,isLoading:!1,error:null}),n.data}catch(t){let e=t instanceof Error?t:Error("Unknown error");throw i({data:null,isLoading:!1,error:e}),e}},[e]);(0,a.useEffect)(()=>{n.immediate&&s().catch(()=>{})},[s,n.immediate]);let l=(0,a.useCallback)(()=>s(),[s]);return{...r,refetch:l}}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",[n,r]=(0,a.useState)({data:null,isLoading:!1,error:null}),i=(0,a.useCallback)(async n=>{r({data:null,isLoading:!0,error:null});try{let a=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:n?JSON.stringify(n):void 0}),i=await a.json();if(!i.success)throw Error(i.error.message);return r({data:i.data,isLoading:!1,error:null}),i.data}catch(t){let e=t instanceof Error?t:Error("Unknown error");throw r({data:null,isLoading:!1,error:e}),e}},[e,t]),s=(0,a.useCallback)(()=>{r({data:null,isLoading:!1,error:null})},[]);return{...n,mutate:i,reset:s}}}}]);
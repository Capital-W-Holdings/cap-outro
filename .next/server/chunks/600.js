"use strict";exports.id=600,exports.ids=[600],exports.modules={9734:(e,s,t)=>{t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]])},6600:(e,s,t)=>{t.d(s,{d$:()=>N,F$:()=>h});var a=t(326),r=t(9734),l=t(5932),i=t(2019),n=t(5919),d=t(7069),c=t(9752);function o({investor:e,onSelect:s,onMenuClick:t,selected:o}){let m=e.check_size_min&&e.check_size_max?`$${(e.check_size_min/1e3).toFixed(0)}K - $${(e.check_size_max/1e6).toFixed(1)}M`:e.check_size_min?`$${(e.check_size_min/1e3).toFixed(0)}K+`:null,x=(e.fit_score??0)>=80?"text-green-400":(e.fit_score??0)>=60?"text-yellow-400":(e.fit_score??0)>=40?"text-orange-400":"text-gray-400";return(0,a.jsxs)(c.Zb,{hover:!0,className:`
        cursor-pointer transition-all
        ${o?"ring-2 ring-brand-gold border-brand-gold":""}
      `,onClick:()=>s?.(e),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-dark-600 flex items-center justify-center text-brand-gold font-semibold",children:e.name.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:e.name}),e.firm&&(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-gray-400 mt-0.5",children:[a.jsx(r.Z,{className:"w-3.5 h-3.5"}),a.jsx("span",{children:e.firm}),e.title&&(0,a.jsxs)("span",{className:"text-gray-500",children:["\xb7 ",e.title]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[e.email&&a.jsx("a",{href:`mailto:${e.email}`,onClick:e=>e.stopPropagation(),className:"p-1 text-gray-500 hover:text-brand-gold transition-colors",title:e.email,children:a.jsx(l.Z,{className:"w-4 h-4"})}),e.linkedin_url&&a.jsx("a",{href:e.linkedin_url,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"p-1 text-gray-500 hover:text-brand-gold transition-colors",children:a.jsx(i.Z,{className:"w-4 h-4"})})]})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[null!==e.fit_score&&(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Fit Score"}),a.jsx("p",{className:`text-lg font-bold ${x}`,children:e.fit_score})]}),t&&a.jsx("button",{onClick:s=>{s.stopPropagation(),t(e)},className:"p-1 text-gray-500 hover:text-white hover:bg-dark-600 rounded transition-colors",children:a.jsx(n.Z,{className:"w-5 h-5"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-4 pt-3 border-t border-dark-600",children:[m&&(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-sm",children:[a.jsx(d.Z,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-gray-300",children:m})]}),e.stages.length>0&&a.jsx("div",{className:"flex items-center gap-1",children:e.stages.slice(0,2).map(e=>a.jsx("span",{className:"px-1.5 py-0.5 bg-dark-600 rounded text-xs text-gray-400",children:e.replace("_"," ")},e))}),e.sectors.length>0&&a.jsx("div",{className:"flex items-center gap-1 ml-auto",children:e.sectors.slice(0,2).map(e=>a.jsx("span",{className:"px-1.5 py-0.5 bg-brand-gold/10 text-brand-gold rounded text-xs",children:e},e))})]})]})}var m=t(786),x=t(3118);function h({search:e,onAddInvestor:s,onSelectInvestor:t,selectedIds:r=[],selectable:l=!1}){let{data:i,isLoading:n,error:d,refetch:c}=(0,m.uF)(e);return n?a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:Array.from({length:6}).map((e,s)=>a.jsx(x.As,{},s))}):d?a.jsx(x.Te,{error:d,onRetry:c}):i&&0!==i.length?a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.map(e=>a.jsx(o,{investor:e,onSelect:l?t:void 0,selected:r.includes(e.id)},e.id))}):a.jsx(x.rg,{onAddInvestor:s})}var g=t(7577),p=t(361),j=t(6283),u=t(4019);let f=(0,t(2881).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var v=t(1291);function N({isOpen:e,onClose:s,onSuccess:t}){let[r,l]=(0,g.useState)(null),[i,n]=(0,g.useState)([]),[d,c]=(0,g.useState)(null),[o,h]=(0,g.useState)(null),{mutate:N,isLoading:b,error:y}=(0,m.Pe)(),k=(0,g.useCallback)(e=>{let s=e.split("\n").filter(e=>e.trim());if(s.length<2)throw Error("CSV must have a header row and at least one data row");let t=s[0];if(!t)throw Error("CSV must have a header row");let a=t.toLowerCase().split(",").map(e=>e.trim()),r=a.findIndex(e=>"name"===e||"full name"===e||"investor"===e),l=a.findIndex(e=>"email"===e||"e-mail"===e),i=a.findIndex(e=>"firm"===e||"company"===e||"fund"===e),n=a.findIndex(e=>"title"===e||"role"===e||"position"===e),d=a.findIndex(e=>e.includes("linkedin"));if(-1===r)throw Error('CSV must have a "name" column');let c=[];for(let e=1;e<s.length;e++){let t=s[e];if(!t)continue;let a=t.split(",").map(e=>e.trim().replace(/^"|"$/g,"")),o=a[r];o&&c.push({name:o,email:l>=0?a[l]:void 0,firm:i>=0?a[i]:void 0,title:n>=0?a[n]:void 0,linkedin_url:d>=0?a[d]:void 0})}return c},[]),w=(0,g.useCallback)(e=>{let s=e.target.files?.[0];if(!s)return;l(s),c(null),n([]),h(null);let t=new FileReader;t.onload=e=>{try{let s=e.target?.result,t=k(s);n(t)}catch(e){c(e instanceof Error?e.message:"Failed to parse CSV")}},t.readAsText(s)},[k]),_=async()=>{if(0!==i.length)try{let e=await N({investors:i});h(e),t?.()}catch{}},C=()=>{l(null),n([]),c(null),h(null),s()};return a.jsx(x.u_,{isOpen:e,onClose:C,title:"Import Investors",size:"lg",children:o?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(p.Z,{className:"w-8 h-8 text-green-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Import Complete"}),(0,a.jsxs)("p",{className:"text-gray-400",children:["Successfully imported ",o.imported," investor",1!==o.imported?"s":"",".",o.errors>0&&(0,a.jsxs)("span",{className:"text-yellow-400",children:[" (",o.errors," failed)"]})]}),a.jsx(x.zx,{variant:"primary",onClick:C,className:"mt-6",children:"Done"})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:`
              border-2 border-dashed rounded-xl p-8 text-center transition-colors
              ${r?"border-brand-gold bg-brand-gold/5":"border-dark-500 hover:border-dark-400"}
            `,children:r?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(j.Z,{className:"w-8 h-8 text-brand-gold"}),(0,a.jsxs)("div",{className:"text-left",children:[a.jsx("p",{className:"text-white font-medium",children:r.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[i.length," investor",1!==i.length?"s":""," found"]})]}),a.jsx("button",{onClick:()=>{l(null),n([]),c(null)},className:"p-1 text-gray-400 hover:text-white",children:a.jsx(u.Z,{className:"w-5 h-5"})})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(f,{className:"w-10 h-10 text-gray-500 mx-auto mb-3"}),(0,a.jsxs)("label",{className:"cursor-pointer",children:[a.jsx("span",{className:"text-brand-gold hover:underline",children:"Choose a CSV file"}),a.jsx("span",{className:"text-gray-400",children:" or drag and drop"}),a.jsx("input",{type:"file",accept:".csv",onChange:w,className:"hidden"})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Columns: name (required), email, firm, title, linkedin_url"})]})}),d&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-4 text-red-500",children:[a.jsx(v.Z,{className:"w-5 h-5"}),a.jsx("p",{className:"text-sm",children:d})]}),i.length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Preview (first 5):"}),a.jsx("div",{className:"bg-dark-700 rounded-lg p-3 max-h-40 overflow-auto",children:i.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-4 py-1.5 border-b border-dark-600 last:border-0",children:[a.jsx("span",{className:"text-white font-medium",children:e.name}),e.firm&&a.jsx("span",{className:"text-gray-400 text-sm",children:e.firm}),e.email&&a.jsx("span",{className:"text-gray-500 text-sm",children:e.email})]},s))})]}),y&&a.jsx("p",{className:"text-sm text-red-500 mt-4",children:y.message}),(0,a.jsxs)(x.mz,{children:[a.jsx(x.zx,{variant:"ghost",onClick:C,disabled:b,children:"Cancel"}),(0,a.jsxs)(x.zx,{variant:"primary",onClick:_,disabled:0===i.length,isLoading:b,children:["Import ",i.length," Investor",1!==i.length?"s":""]})]})]})})}}};
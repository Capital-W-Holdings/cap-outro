"use strict";exports.id=787,exports.ids=[787],exports.modules={2714:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1215:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},9508:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},8091:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},9787:(e,t,a)=>{a.d(t,{u:()=>k,HP:()=>y});var s=a(326),l=a(5932),r=a(9508),i=a(2881);let n=(0,i.Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var c=a(8091),o=a(9752);let d={initial:{label:"Initial Outreach",color:"bg-blue-500/10 text-blue-400"},followup:{label:"Follow-up",color:"bg-purple-500/10 text-purple-400"},intro_request:{label:"Intro Request",color:"bg-cyan-500/10 text-cyan-400"},update:{label:"Update",color:"bg-green-500/10 text-green-400"}};function x({template:e,onEdit:t,onDelete:a,onDuplicate:i}){let x=d[e.type];return s.jsx(o.Zb,{hover:!0,className:"group",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-dark-600 flex items-center justify-center text-brand-gold flex-shrink-0",children:s.jsx(l.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-white truncate",children:e.name}),s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${x.color}`,children:x.label})]}),s.jsx("p",{className:"text-sm text-gray-400 truncate mb-2",children:e.subject}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,s.jsxs)("span",{children:[e.variables.length," variables"]}),(0,s.jsxs)("span",{children:["Created ",new Date(e.created_at).toLocaleDateString()]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t&&s.jsx("button",{onClick:()=>t(e),className:"p-2 text-gray-500 hover:text-white hover:bg-dark-600 rounded transition-colors",title:"Edit",children:s.jsx(r.Z,{className:"w-4 h-4"})}),i&&s.jsx("button",{onClick:()=>i(e),className:"p-2 text-gray-500 hover:text-white hover:bg-dark-600 rounded transition-colors",title:"Duplicate",children:s.jsx(n,{className:"w-4 h-4"})}),a&&s.jsx("button",{onClick:()=>a(e),className:"p-2 text-gray-500 hover:text-red-400 hover:bg-dark-600 rounded transition-colors",title:"Delete",children:s.jsx(c.Z,{className:"w-4 h-4"})})]})]})})}var h=a(7577),m=a(786),p=a(3118);let u=[{value:"",label:"All Types"},{value:"initial",label:"Initial Outreach"},{value:"followup",label:"Follow-up"},{value:"intro_request",label:"Intro Request"},{value:"update",label:"Update"}];function y({onEdit:e,onCreateTemplate:t}){let[a,r]=(0,h.useState)(""),{data:i,isLoading:n,error:c,refetch:o}=(0,m.zE)(a||void 0);return n?s.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((e,t)=>s.jsx(p.As,{},t))}):c?s.jsx(p.Te,{error:c,onRetry:o}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(p.Ph,{options:u,value:a,onChange:e=>r(e.target.value),className:"w-48"}),s.jsx("div",{className:"flex-1"}),(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:[i?.length??0," template",i?.length!==1?"s":""]})]}),i&&0!==i.length?s.jsx("div",{className:"space-y-4",children:i.map(t=>s.jsx(x,{template:t,onEdit:e,onDelete:async e=>{confirm("Delete this template?")&&(console.log("Delete:",e.id),o())},onDuplicate:e=>{console.log("Duplicate:",e.id)}},t.id))}):s.jsx(p.ub,{icon:s.jsx(l.Z,{className:"w-8 h-8 text-gray-500"}),title:"No templates found",description:a?"Try changing your filters":"Create your first email template",action:t?{label:"Create Template",onClick:t}:void 0})]})}let g=(0,i.Z)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]);var v=a(2714),j=a(1215);let b=(0,i.Z)("variable",[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]);function f(e,t){let a=e;for(let[e,s]of Object.entries(t))if(void 0!==s){let t=RegExp(`\\{\\{\\s*${e}\\s*\\}\\}`,"g");a=a.replace(t,s)}return a.replace(/\{\{\s*\w+\s*\}\}/g,"")}let N=[{value:"initial",label:"Initial Outreach"},{value:"followup",label:"Follow-up"},{value:"intro_request",label:"Intro Request"},{value:"update",label:"Update"}],w={investor_name:"Sarah Chen",investor_first_name:"Sarah",investor_firm:"Sequoia Capital",founder_name:"Alex Founder",company_name:"My Startup",raise_type:"Series A",raise_amount:"$5M",deck_url:"https://deck.mystartup.com",calendar_link:"https://calendly.com/alex/30min",recent_milestone:"hit 100K users",key_metric_1:"100K+ monthly active users",key_metric_2:"40% month-over-month growth",key_metric_3:"95% customer retention"};function k({template:e,onSave:t,onCancel:a}){let[l,r]=(0,h.useState)(e?.name??""),[i,n]=(0,h.useState)(e?.type??"initial"),[c,o]=(0,h.useState)(e?.subject??""),[d,x]=(0,h.useState)(e?.body??""),[u,y]=(0,h.useState)(!1),{mutate:k,isLoading:_}=(0,m.eD)(),{mutate:C,isLoading:Z}=(0,m.FF)(e?.id??""),M=!!e,S=(0,h.useMemo)(()=>(function(e){let t;let a=/\{\{\s*(\w+)\s*\}\}/g,s=[];for(;null!==(t=a.exec(e));){let e=t[1];e&&!s.includes(e)&&s.push(e)}return s})(c+" "+d),[c,d]),I=(0,h.useMemo)(()=>({subject:f(c,w),body:f(d,w)}),[c,d]),T=async()=>{try{M?await C({name:l,type:i,subject:c,body:d}):await k({name:l,type:i,subject:c,body:d}),t?.()}catch{}},z=e=>{let t=document.getElementById("template-body");if(t){let a=t.selectionStart,s=t.selectionEnd;x(d.substring(0,a)+`{{${e}}}`+d.substring(s)),setTimeout(()=>{t.focus(),t.setSelectionRange(a+e.length+4,a+e.length+4)},0)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:M?"Edit Template":"Create Template"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(p.zx,{variant:"outline",onClick:()=>y(!u),leftIcon:u?s.jsx(g,{className:"w-4 h-4"}):s.jsx(v.Z,{className:"w-4 h-4"}),children:u?"Edit":"Preview"}),a&&s.jsx(p.zx,{variant:"ghost",onClick:a,children:"Cancel"}),s.jsx(p.zx,{variant:"primary",onClick:T,isLoading:_||Z,disabled:!l||!c||!d,leftIcon:s.jsx(j.Z,{className:"w-4 h-4"}),children:M?"Save Changes":"Create Template"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"col-span-2 space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(p.II,{label:"Template Name",placeholder:"e.g., Cold Outreach - Series A",value:l,onChange:e=>r(e.target.value)}),s.jsx(p.Ph,{label:"Type",options:N,value:i,onChange:e=>n(e.target.value)})]}),s.jsx(p.II,{label:"Subject Line",placeholder:"e.g., Quick intro - {{company_name}}",value:c,onChange:e=>o(e.target.value)}),u?(0,s.jsxs)(p.Zb,{children:[(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Subject"}),s.jsx("p",{className:"text-white font-medium",children:I.subject||"No subject"})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Body"}),s.jsx("div",{className:"prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:I.body||'<p class="text-gray-500">No content</p>'}})]})]}):(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Email Body"}),s.jsx("textarea",{id:"template-body",className:"w-full px-3 py-2 bg-dark-700 border border-dark-500 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-brand-gold focus:border-transparent resize-none font-mono text-sm",rows:15,placeholder:"<p>Hi {{investor_first_name}},</p>...",value:d,onChange:e=>x(e.target.value)}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Supports HTML. Use ","{{variable}}"," for personalization."]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(p.Zb,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(b,{className:"w-4 h-4 text-brand-gold"}),s.jsx("h3",{className:"font-medium text-white",children:"Variables"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:["Used in template (",S.length,")"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:S.length>0?S.map(e=>s.jsx("span",{className:"px-2 py-0.5 bg-brand-gold/10 text-brand-gold text-xs rounded",children:e},e)):s.jsx("span",{className:"text-xs text-gray-500",children:"No variables used"})})]}),(0,s.jsxs)("div",{className:"border-t border-dark-600 pt-3",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Available variables"}),s.jsx("div",{className:"space-y-1 max-h-64 overflow-y-auto",children:Object.keys(w).map(e=>(0,s.jsxs)("button",{onClick:()=>z(e),className:"flex items-center justify-between w-full px-2 py-1.5 text-left text-sm rounded hover:bg-dark-600 transition-colors group",children:[s.jsx("code",{className:"text-gray-300",children:`{{${e}}}`}),s.jsx("span",{className:"text-xs text-gray-500 opacity-0 group-hover:opacity-100",children:"Insert"})]},e))})]})]})]}),(0,s.jsxs)(p.Zb,{children:[s.jsx("h3",{className:"font-medium text-white mb-2",children:"Tips"}),(0,s.jsxs)("ul",{className:"text-sm text-gray-400 space-y-1",children:[s.jsx("li",{children:"• Keep subject lines under 50 characters"}),s.jsx("li",{children:"• Personalize with investor name and firm"}),s.jsx("li",{children:"• Include a clear call-to-action"}),s.jsx("li",{children:"• Test with the preview before sending"})]})]})]})]})]})}}};
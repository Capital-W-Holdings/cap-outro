"use strict";exports.id=557,exports.ids=[557],exports.modules={5919:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},2019:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]])},8307:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9508:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},8091:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(2881).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},8385:(e,t,a)=>{a.d(t,{PC:()=>Z,hl:()=>z});var s=a(326),l=a(5932),r=a(2019),i=a(2881);let c=(0,i.Z)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),n=(0,i.Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),d=(0,i.Z)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var x=a(9508),o=a(8091),h=a(9752);let y={email:l.Z,linkedin:r.Z,task:c,wait:n},m={email:"bg-blue-500/10 text-blue-400 border-blue-500/20",linkedin:"bg-cyan-500/10 text-cyan-400 border-cyan-500/20",task:"bg-purple-500/10 text-purple-400 border-purple-500/20",wait:"bg-gray-500/10 text-gray-400 border-gray-500/20"},p={email:"Email",linkedin:"LinkedIn",task:"Task",wait:"Wait"};function u({step:e,index:t,onEdit:a,onDelete:l}){let r=y[e.type],i=m[e.type];return s.jsx(h.Zb,{className:"group relative",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 cursor-grab text-gray-600 hover:text-gray-400",children:s.jsx(d,{className:"w-5 h-5"})}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center border ${i}`,children:s.jsx(r,{className:"w-5 h-5"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-400",children:["Step ",t+1]}),s.jsx("span",{className:"text-xs text-gray-600",children:"•"}),s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${i}`,children:p[e.type]}),e.delay_days>0&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-gray-600",children:"•"}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:[e.delay_days," day",1!==e.delay_days?"s":""," delay"]})]})]}),"email"===e.type&&(0,s.jsxs)(s.Fragment,{children:[e.subject&&s.jsx("p",{className:"text-sm font-medium text-white truncate",children:e.subject}),e.content&&s.jsx("p",{className:"text-sm text-gray-400 mt-1 line-clamp-2",children:e.content})]}),"linkedin"===e.type&&e.content&&s.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:e.content}),"task"===e.type&&e.content&&s.jsx("p",{className:"text-sm text-gray-400",children:e.content}),"wait"===e.type&&(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Wait ",e.delay_days," day",1!==e.delay_days?"s":""," before next step"]})]}),(0,s.jsxs)("div",{className:"flex-shrink-0 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a&&s.jsx("button",{onClick:()=>a(e),className:"p-2 text-gray-500 hover:text-white hover:bg-dark-600 rounded transition-colors",children:s.jsx(x.Z,{className:"w-4 h-4"})}),l&&s.jsx("button",{onClick:()=>l(e),className:"p-2 text-gray-500 hover:text-red-400 hover:bg-dark-600 rounded transition-colors",children:s.jsx(o.Z,{className:"w-4 h-4"})})]})]})})}var j=a(7577);let g=(0,i.Z)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),v=(0,i.Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);var k=a(8378),b=a(3855),f=a(786),N=a(3118);let w=[{value:"email",label:"Email"},{value:"linkedin",label:"LinkedIn Message"},{value:"task",label:"Manual Task"},{value:"wait",label:"Wait / Delay"}];function Z({sequenceId:e}){let{data:t,isLoading:a,error:l,refetch:r}=(0,f.Hv)(e),{mutate:i,isLoading:c}=(0,f.Mn)(e),{mutate:n,isLoading:d}=(0,f.pf)(e),[x,o]=(0,j.useState)(!1),[h,y]=(0,j.useState)("email"),[m,p]=(0,j.useState)("0"),[Z,C]=(0,j.useState)(""),[M,S]=(0,j.useState)("");if(a)return s.jsx(N.h2,{});if(l)return s.jsx(N.Te,{error:l,onRetry:r});if(!t)return s.jsx(N.Te,{error:"Sequence not found"});let z=async()=>{let e="active"===t.status?"paused":"active";try{await i({status:e}),r()}catch{}},D=async()=>{let e=(t.steps?.length??0)+1;try{await n({order:e,type:h,delay_days:parseInt(m,10)||0,subject:Z||void 0,content:M||void 0}),y("email"),p("0"),C(""),S(""),o(!1),r()}catch{}},I=e=>{console.log("Edit step:",e)},A=e=>{console.log("Delete step:",e)},q="active"===t.status?"text-green-400":"paused"===t.status?"text-yellow-400":"text-gray-400";return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:t.name}),s.jsx("p",{className:`text-sm ${q}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(N.zx,{variant:"active"===t.status?"secondary":"primary",onClick:z,isLoading:c,leftIcon:"active"===t.status?s.jsx(g,{className:"w-4 h-4"}):s.jsx(v,{className:"w-4 h-4"}),children:"active"===t.status?"Pause":"Activate"}),s.jsx(N.zx,{variant:"outline",leftIcon:s.jsx(k.Z,{className:"w-4 h-4"}),children:"Settings"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[t.steps&&t.steps.length>0?t.steps.map((e,t)=>s.jsx(u,{step:e,index:t,onEdit:I,onDelete:A},e.id)):s.jsx(N.ub,{title:"No steps yet",description:"Add your first step to build the sequence."}),(0,s.jsxs)("button",{onClick:()=>o(!0),className:"w-full py-4 border-2 border-dashed border-dark-500 rounded-xl text-gray-500 hover:text-white hover:border-dark-400 transition-colors flex items-center justify-center gap-2",children:[s.jsx(b.Z,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Step"})]})]}),(0,s.jsxs)(N.u_,{isOpen:x,onClose:()=>o(!1),title:"Add Step",size:"md",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(N.Ph,{label:"Step Type",options:w,value:h,onChange:e=>y(e.target.value)}),s.jsx(N.II,{label:"Delay (days)",type:"number",min:"0",value:m,onChange:e=>p(e.target.value),helperText:"Days to wait before this step"}),"email"===h&&s.jsx(N.II,{label:"Subject",placeholder:"Email subject line",value:Z,onChange:e=>C(e.target.value)}),("email"===h||"linkedin"===h||"task"===h)&&(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"task"===h?"Task Description":"Content"}),s.jsx("textarea",{className:"w-full px-3 py-2 bg-dark-700 border border-dark-500 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-brand-gold focus:border-transparent resize-none",rows:4,placeholder:"email"===h?"Email body (use {{variables}} for personalization)":"linkedin"===h?"LinkedIn message":"Describe the task",value:M,onChange:e=>S(e.target.value)})]})]}),(0,s.jsxs)(N.mz,{children:[s.jsx(N.zx,{variant:"ghost",onClick:()=>o(!1),children:"Cancel"}),s.jsx(N.zx,{variant:"primary",onClick:D,isLoading:d,children:"Add Step"})]})]})]})}var C=a(434),M=a(5919);let S={draft:{label:"Draft",color:"text-gray-400 bg-gray-500/10"},active:{label:"Active",color:"text-green-400 bg-green-500/10"},paused:{label:"Paused",color:"text-yellow-400 bg-yellow-500/10"}};function z({campaignId:e,onCreateSequence:t}){let{data:a,isLoading:r,error:i,refetch:c}=(0,f.cI)(e);return r?s.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((e,t)=>s.jsx(N.As,{},t))}):i?s.jsx(N.Te,{error:i,onRetry:c}):a&&0!==a.length?s.jsx("div",{className:"space-y-4",children:a.map(e=>s.jsx(D,{sequence:e},e.id))}):s.jsx(N.ub,{icon:s.jsx(l.Z,{className:"w-8 h-8 text-gray-500"}),title:"No sequences yet",description:"Create your first sequence to automate investor outreach.",action:{label:"Create Sequence",onClick:t}})}function D({sequence:e}){let t=S[e.status];return s.jsx(C.default,{href:`/sequences/${e.id}`,children:s.jsx(N.Zb,{hover:!0,className:"group",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${t.color}`,children:"active"===e.status?s.jsx(v,{className:"w-5 h-5"}):"paused"===e.status?s.jsx(g,{className:"w-5 h-5"}):s.jsx(l.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-semibold text-white group-hover:text-brand-gold transition-colors",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${t.color}`,children:t.label}),(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["Created ",new Date(e.created_at).toLocaleDateString()]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"text-right mr-4",children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Steps"}),s.jsx("p",{className:"text-lg font-semibold text-white",children:"--"})]}),s.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation()},className:"p-2 text-gray-500 hover:text-white hover:bg-dark-600 rounded opacity-0 group-hover:opacity-100 transition-all",children:s.jsx(M.Z,{className:"w-5 h-5"})})]})]})})})}}};
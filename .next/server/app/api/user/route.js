"use strict";(()=>{var e={};e.id=356,e.ids=[356],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8887:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>w,patchFetch:()=>A,requestAsyncStorage:()=>x,routeModule:()=>g,serverHooks:()=>E,staticGenerationAsyncStorage:()=>y});var n={};r.r(n),r.d(n,{GET:()=>_,PATCH:()=>h,PUT:()=>R});var a=r(9303),o=r(8716),s=r(3131),i=r(2602),u=r(6543);let c={id:"user-1",email:"founder@startup.com",name:"Alex Founder",role:"owner",org_id:"org-1",created_at:new Date().toISOString()},l={id:"org-1",name:"My Startup",slug:"my-startup",plan:"pro",settings:{default_from_name:"Alex from My Startup",default_reply_to:"alex@mystartup.com",calendar_link:"https://calendly.com/alex-startup/30min",company_description:"AI-powered analytics platform"},created_at:new Date().toISOString()},p=u.Ryn({name:u.Z_8().min(1).max(100).optional(),email:u.Z_8().email().optional()}),d=u.Ryn({name:u.Z_8().min(1).max(100).optional(),settings:u.Ryn({default_from_name:u.Z_8().max(100).optional(),default_reply_to:u.Z_8().email().optional(),calendar_link:u.Z_8().url().optional(),company_description:u.Z_8().max(500).optional()}).optional()});function m(e){let t=p.safeParse(e);if(!t.success){let e={};throw t.error.issues.forEach(t=>{let r=t.path.join(".")||"root";e[r]||(e[r]=[]),e[r].push(t.message)}),new i.p8("Validation failed",e)}return t.data}function f(e){let t=d.safeParse(e);if(!t.success){let e={};throw t.error.issues.forEach(t=>{let r=t.path.join(".")||"root";e[r]||(e[r]=[]),e[r].push(t.message)}),new i.p8("Validation failed",e)}return t.data}async function _(){return(0,i.bi)(async()=>(0,i.Xj)({user:c,organization:l}))}async function h(e){return(0,i.bi)(async()=>{let t=await (0,i.Kz)(e,m);return c={...c,...t},(0,i.Xj)(c)})}async function R(e){return(0,i.bi)(async()=>{let t=await (0,i.Kz)(e,f);return l={...l,name:t.name??l.name,settings:{...l.settings,...t.settings}},(0,i.Xj)(l)})}let g=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/user/route",pathname:"/api/user",filename:"route",bundlePath:"app/api/user/route"},resolvedPagePath:"/Users/jessewitkowski/Projects/cap-outro/src/app/api/user/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:x,staticGenerationAsyncStorage:y,serverHooks:E}=g,w="/api/user/route";function A(){return(0,s.patchFetch)({serverHooks:E,staticGenerationAsyncStorage:y})}},2602:(e,t,r)=>{r.d(t,{Kz:()=>l,Xj:()=>i,bi:()=>c,dR:()=>s,p8:()=>o});var n=r(7070);class a extends Error{constructor(e,t,r){super(t),this.code=e,this.details=r,this.name="AppError"}}class o extends a{constructor(e,t){super("VALIDATION_ERROR",e,t),this.name="ValidationError"}}class s extends a{constructor(e){super("NOT_FOUND",`${e} not found`),this.name="NotFoundError"}}function i(e,t){return n.NextResponse.json({success:!0,data:e,...t&&{meta:t}})}function u(e){if(e instanceof a){let t={UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,VALIDATION_ERROR:400,RATE_LIMITED:429,INTERNAL_ERROR:500}[e.code];return n.NextResponse.json({success:!1,error:{code:e.code,message:e.message,...e.details&&{details:e.details}}},{status:t})}return console.error("Unhandled error:",e),n.NextResponse.json({success:!1,error:{code:"INTERNAL_ERROR",message:"An unexpected error occurred"}},{status:500})}function c(e){return e().catch(e=>e instanceof a||e instanceof Error?u(e):u(Error("Unknown error")))}async function l(e,t){try{let r=await e.json();return t(r)}catch(e){if(e instanceof o)throw e;throw new o("Invalid JSON body")}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[276,972,543],()=>r(8887));module.exports=n})();
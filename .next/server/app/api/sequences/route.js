"use strict";(()=>{var e={};e.id=162,e.ids=[162],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2099:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>O,patchFetch:()=>_,requestAsyncStorage:()=>h,routeModule:()=>g,serverHooks:()=>R,staticGenerationAsyncStorage:()=>f});var n={};r.r(n),r.d(n,{GET:()=>l,POST:()=>m});var a=r(9303),s=r(8716),o=r(3131),i=r(2602),c=r(6543);let u=[{id:"1",campaign_id:"1",name:"Initial Outreach",status:"active",created_at:new Date().toISOString()},{id:"2",campaign_id:"1",name:"Follow-up Sequence",status:"draft",created_at:new Date().toISOString()}],d=c.Ryn({campaign_id:c.Z_8().uuid("Invalid campaign ID"),name:c.Z_8().min(1,"Name is required").max(100,"Name too long")});function p(e){let t=d.safeParse(e);if(!t.success){let e={};throw t.error.issues.forEach(t=>{let r=t.path.join(".")||"root";e[r]||(e[r]=[]),e[r].push(t.message)}),new i.p8("Validation failed",e)}return t.data}async function l(e){return(0,i.bi)(async()=>{let t=e.nextUrl.searchParams.get("campaign_id"),r=u;return t&&(r=u.filter(e=>e.campaign_id===t)),(0,i.Xj)(r,{page:1,limit:20,total:r.length})})}async function m(e){return(0,i.bi)(async()=>{let t=await (0,i.Kz)(e,p),r={id:`seq-${Date.now()}`,campaign_id:t.campaign_id,name:t.name,status:"draft",created_at:new Date().toISOString()};return u.push(r),(0,i.Xj)(r)})}let g=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/sequences/route",pathname:"/api/sequences",filename:"route",bundlePath:"app/api/sequences/route"},resolvedPagePath:"/Users/jessewitkowski/Projects/cap-outro/src/app/api/sequences/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:h,staticGenerationAsyncStorage:f,serverHooks:R}=g,O="/api/sequences/route";function _(){return(0,o.patchFetch)({serverHooks:R,staticGenerationAsyncStorage:f})}},2602:(e,t,r)=>{r.d(t,{Kz:()=>d,Xj:()=>i,bi:()=>u,dR:()=>o,p8:()=>s});var n=r(7070);class a extends Error{constructor(e,t,r){super(t),this.code=e,this.details=r,this.name="AppError"}}class s extends a{constructor(e,t){super("VALIDATION_ERROR",e,t),this.name="ValidationError"}}class o extends a{constructor(e){super("NOT_FOUND",`${e} not found`),this.name="NotFoundError"}}function i(e,t){return n.NextResponse.json({success:!0,data:e,...t&&{meta:t}})}function c(e){if(e instanceof a){let t={UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,VALIDATION_ERROR:400,RATE_LIMITED:429,INTERNAL_ERROR:500}[e.code];return n.NextResponse.json({success:!1,error:{code:e.code,message:e.message,...e.details&&{details:e.details}}},{status:t})}return console.error("Unhandled error:",e),n.NextResponse.json({success:!1,error:{code:"INTERNAL_ERROR",message:"An unexpected error occurred"}},{status:500})}function u(e){return e().catch(e=>e instanceof a||e instanceof Error?c(e):c(Error("Unknown error")))}async function d(e,t){try{let r=await e.json();return t(r)}catch(e){if(e instanceof s)throw e;throw new s("Invalid JSON body")}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[276,972,543],()=>r(2099));module.exports=n})();
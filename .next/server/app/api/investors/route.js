"use strict";(()=>{var e={};e.id=540,e.ids=[540],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3541:(e,t,i)=>{i.r(t),i.d(t,{originalPathname:()=>x,patchFetch:()=>g,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>_});var r={};i.r(r),i.d(r,{GET:()=>m,POST:()=>u});var n=i(9303),o=i(8716),a=i(3131),s=i(2602),l=i(8242);let c=[{id:"1",org_id:"org-1",name:"Sarah Chen",email:"sarah@acme.vc",firm:"Acme Ventures",title:"Partner",linkedin_url:"https://linkedin.com/in/sarahchen",check_size_min:5e5,check_size_max:2e6,stages:["seed","series_a"],sectors:["fintech","ai"],fit_score:85,warm_paths:[],source:"manual",created_at:new Date().toISOString()},{id:"2",org_id:"org-1",name:"Mike Johnson",email:"mike@capitalpartners.com",firm:"Capital Partners",title:"Managing Director",linkedin_url:null,check_size_min:1e6,check_size_max:5e6,stages:["series_a","series_b"],sectors:["saas","enterprise"],fit_score:72,warm_paths:[],source:"import",created_at:new Date().toISOString()}];async function m(e){return(0,s.bi)(async()=>{let t=e.nextUrl.searchParams,i=parseInt(t.get("page")??"1",10),r=parseInt(t.get("limit")??"20",10),n=t.get("search")??"",o=c;if(n){let e=n.toLowerCase();o=c.filter(t=>t.name.toLowerCase().includes(e)||t.firm?.toLowerCase().includes(e)||t.email?.toLowerCase().includes(e))}let a=(i-1)*r,l=o.slice(a,a+r);return(0,s.Xj)(l,{page:i,limit:r,total:o.length})})}async function u(e){return(0,s.bi)(async()=>{let t=await (0,s.Kz)(e,l.Qx),i={id:`inv-${Date.now()}`,org_id:"org-1",name:t.name,email:t.email||null,firm:t.firm??null,title:t.title??null,linkedin_url:t.linkedin_url||null,check_size_min:t.check_size_min??null,check_size_max:t.check_size_max??null,stages:t.stages??[],sectors:t.sectors??[],fit_score:null,warm_paths:[],source:"manual",created_at:new Date().toISOString()};return c.push(i),(0,s.Xj)(i)})}let p=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/investors/route",pathname:"/api/investors",filename:"route",bundlePath:"app/api/investors/route"},resolvedPagePath:"/Users/jessewitkowski/Projects/cap-outro/src/app/api/investors/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:_,serverHooks:h}=p,x="/api/investors/route";function g(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:_})}},2602:(e,t,i)=>{i.d(t,{Kz:()=>m,Xj:()=>s,bi:()=>c,dR:()=>a,p8:()=>o});var r=i(7070);class n extends Error{constructor(e,t,i){super(t),this.code=e,this.details=i,this.name="AppError"}}class o extends n{constructor(e,t){super("VALIDATION_ERROR",e,t),this.name="ValidationError"}}class a extends n{constructor(e){super("NOT_FOUND",`${e} not found`),this.name="NotFoundError"}}function s(e,t){return r.NextResponse.json({success:!0,data:e,...t&&{meta:t}})}function l(e){if(e instanceof n){let t={UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,VALIDATION_ERROR:400,RATE_LIMITED:429,INTERNAL_ERROR:500}[e.code];return r.NextResponse.json({success:!1,error:{code:e.code,message:e.message,...e.details&&{details:e.details}}},{status:t})}return console.error("Unhandled error:",e),r.NextResponse.json({success:!1,error:{code:"INTERNAL_ERROR",message:"An unexpected error occurred"}},{status:500})}function c(e){return e().catch(e=>e instanceof n||e instanceof Error?l(e):l(Error("Unknown error")))}async function m(e,t){try{let i=await e.json();return t(i)}catch(e){if(e instanceof o)throw e;throw new o("Invalid JSON body")}}},8242:(e,t,i)=>{i.d(t,{G6:()=>x,Qx:()=>_,RX:()=>g,gB:()=>d,jn:()=>p,tc:()=>h});var r=i(6543),n=i(2602);let o=r.Ryn({name:r.Z_8().min(1,"Name is required").max(100,"Name too long"),raise_amount:r.Rxh().positive().optional(),raise_type:r.KmV(["seed","series_a","series_b","bridge","note"]).optional(),sector:r.IXX(r.Z_8()).optional(),deck_url:r.Z_8().url("Invalid URL").optional().or(r.i0J(""))}),a=r.Ryn({name:r.Z_8().min(1).max(100).optional(),status:r.KmV(["draft","active","paused","completed"]).optional(),raise_amount:r.Rxh().positive().optional(),raise_type:r.KmV(["seed","series_a","series_b","bridge","note"]).optional(),sector:r.IXX(r.Z_8()).optional(),deck_url:r.Z_8().url().optional().or(r.i0J(""))}),s=r.Ryn({name:r.Z_8().min(1,"Name is required").max(100,"Name too long"),email:r.Z_8().email("Invalid email").optional().or(r.i0J("")),firm:r.Z_8().max(100).optional(),title:r.Z_8().max(100).optional(),linkedin_url:r.Z_8().url("Invalid URL").optional().or(r.i0J("")),check_size_min:r.Rxh().positive().optional(),check_size_max:r.Rxh().positive().optional(),stages:r.IXX(r.Z_8()).optional(),sectors:r.IXX(r.Z_8()).optional()}),l=r.Ryn({investors:r.IXX(r.Ryn({name:r.Z_8().min(1),email:r.Z_8().email().optional().or(r.i0J("")),firm:r.Z_8().optional(),title:r.Z_8().optional(),linkedin_url:r.Z_8().url().optional().or(r.i0J(""))})).min(1,"At least one investor required").max(1e3,"Maximum 1000 investors per import")}),c=r.Ryn({stage:r.KmV(["not_contacted","contacted","responded","meeting_scheduled","meeting_held","dd","term_sheet","committed","passed"]).optional(),amount_soft:r.Rxh().positive().optional(),amount_committed:r.Rxh().positive().optional(),notes:r.Z_8().max(1e3).optional()}),m=r.Ryn({name:r.Z_8().min(1).max(100),subject:r.Z_8().min(1).max(200),body:r.Z_8().min(1).max(1e4),type:r.KmV(["initial","followup","intro_request","update"]).optional()});function u(e){return t=>{let i=e.safeParse(t);if(!i.success){let e={};throw i.error.issues.forEach(t=>{let i=t.path.join(".")||"root";e[i]||(e[i]=[]),e[i].push(t.message)}),new n.p8("Validation failed",e)}return i.data}}let p=u(o),d=u(a),_=u(s),h=u(l),x=u(c),g=u(m)}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[276,972,543],()=>i(3541));module.exports=r})();
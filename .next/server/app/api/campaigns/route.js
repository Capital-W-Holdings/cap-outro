"use strict";(()=>{var e={};e.id=25,e.ids=[25],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8271:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>h,patchFetch:()=>g,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>R,staticGenerationAsyncStorage:()=>_});var a={};o.r(a),o.d(a,{GET:()=>c,POST:()=>u});var r=o(9303),i=o(8716),n=o(3131),s=o(2602),l=o(8242);let p=[{id:"1",org_id:"org-1",name:"Series A Raise",status:"active",raise_amount:5e6,raise_type:"series_a",sector:["fintech","ai"],deck_url:"https://example.com/deck.pdf",settings:{},created_at:new Date().toISOString()}];async function c(e){return(0,s.bi)(async()=>(e.headers.get("x-user-id"),(0,s.Xj)(p,{page:1,limit:10,total:p.length})))}async function u(e){return(0,s.bi)(async()=>{e.headers.get("x-user-id");let t=await (0,s.Kz)(e,l.jn),o={id:`campaign-${Date.now()}`,org_id:"org-1",name:t.name,status:"draft",raise_amount:t.raise_amount??null,raise_type:t.raise_type??null,sector:t.sector??[],deck_url:t.deck_url||null,settings:{},created_at:new Date().toISOString()};return p.push(o),(0,s.Xj)(o)})}let d=new r.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/campaigns/route",pathname:"/api/campaigns",filename:"route",bundlePath:"app/api/campaigns/route"},resolvedPagePath:"/Users/jessewitkowski/Projects/cap-outro/src/app/api/campaigns/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:_,serverHooks:R}=d,h="/api/campaigns/route";function g(){return(0,n.patchFetch)({serverHooks:R,staticGenerationAsyncStorage:_})}},2602:(e,t,o)=>{o.d(t,{Kz:()=>c,Xj:()=>s,bi:()=>p,dR:()=>n,p8:()=>i});var a=o(7070);class r extends Error{constructor(e,t,o){super(t),this.code=e,this.details=o,this.name="AppError"}}class i extends r{constructor(e,t){super("VALIDATION_ERROR",e,t),this.name="ValidationError"}}class n extends r{constructor(e){super("NOT_FOUND",`${e} not found`),this.name="NotFoundError"}}function s(e,t){return a.NextResponse.json({success:!0,data:e,...t&&{meta:t}})}function l(e){if(e instanceof r){let t={UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,VALIDATION_ERROR:400,RATE_LIMITED:429,INTERNAL_ERROR:500}[e.code];return a.NextResponse.json({success:!1,error:{code:e.code,message:e.message,...e.details&&{details:e.details}}},{status:t})}return console.error("Unhandled error:",e),a.NextResponse.json({success:!1,error:{code:"INTERNAL_ERROR",message:"An unexpected error occurred"}},{status:500})}function p(e){return e().catch(e=>e instanceof r||e instanceof Error?l(e):l(Error("Unknown error")))}async function c(e,t){try{let o=await e.json();return t(o)}catch(e){if(e instanceof i)throw e;throw new i("Invalid JSON body")}}},8242:(e,t,o)=>{o.d(t,{G6:()=>h,Qx:()=>_,RX:()=>g,gB:()=>m,jn:()=>d,tc:()=>R});var a=o(6543),r=o(2602);let i=a.Ryn({name:a.Z_8().min(1,"Name is required").max(100,"Name too long"),raise_amount:a.Rxh().positive().optional(),raise_type:a.KmV(["seed","series_a","series_b","bridge","note"]).optional(),sector:a.IXX(a.Z_8()).optional(),deck_url:a.Z_8().url("Invalid URL").optional().or(a.i0J(""))}),n=a.Ryn({name:a.Z_8().min(1).max(100).optional(),status:a.KmV(["draft","active","paused","completed"]).optional(),raise_amount:a.Rxh().positive().optional(),raise_type:a.KmV(["seed","series_a","series_b","bridge","note"]).optional(),sector:a.IXX(a.Z_8()).optional(),deck_url:a.Z_8().url().optional().or(a.i0J(""))}),s=a.Ryn({name:a.Z_8().min(1,"Name is required").max(100,"Name too long"),email:a.Z_8().email("Invalid email").optional().or(a.i0J("")),firm:a.Z_8().max(100).optional(),title:a.Z_8().max(100).optional(),linkedin_url:a.Z_8().url("Invalid URL").optional().or(a.i0J("")),check_size_min:a.Rxh().positive().optional(),check_size_max:a.Rxh().positive().optional(),stages:a.IXX(a.Z_8()).optional(),sectors:a.IXX(a.Z_8()).optional()}),l=a.Ryn({investors:a.IXX(a.Ryn({name:a.Z_8().min(1),email:a.Z_8().email().optional().or(a.i0J("")),firm:a.Z_8().optional(),title:a.Z_8().optional(),linkedin_url:a.Z_8().url().optional().or(a.i0J(""))})).min(1,"At least one investor required").max(1e3,"Maximum 1000 investors per import")}),p=a.Ryn({stage:a.KmV(["not_contacted","contacted","responded","meeting_scheduled","meeting_held","dd","term_sheet","committed","passed"]).optional(),amount_soft:a.Rxh().positive().optional(),amount_committed:a.Rxh().positive().optional(),notes:a.Z_8().max(1e3).optional()}),c=a.Ryn({name:a.Z_8().min(1).max(100),subject:a.Z_8().min(1).max(200),body:a.Z_8().min(1).max(1e4),type:a.KmV(["initial","followup","intro_request","update"]).optional()});function u(e){return t=>{let o=e.safeParse(t);if(!o.success){let e={};throw o.error.issues.forEach(t=>{let o=t.path.join(".")||"root";e[o]||(e[o]=[]),e[o].push(t.message)}),new r.p8("Validation failed",e)}return o.data}}let d=u(i),m=u(n),_=u(s),R=u(l),h=u(p),g=u(c)}};var t=require("../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),a=t.X(0,[276,972,543],()=>o(8271));module.exports=a})();
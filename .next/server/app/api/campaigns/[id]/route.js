"use strict";(()=>{var e={};e.id=461,e.ids=[461],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3694:(e,t,i)=>{i.r(t),i.d(t,{originalPathname:()=>x,patchFetch:()=>f,requestAsyncStorage:()=>_,routeModule:()=>m,serverHooks:()=>h,staticGenerationAsyncStorage:()=>R});var n={};i.r(n),i.d(n,{DELETE:()=>u,GET:()=>c,PATCH:()=>p});var o=i(9303),a=i(8716),r=i(3131),s=i(2602),d=i(8242);let l=[{id:"1",org_id:"org-1",name:"Series A Raise",status:"active",raise_amount:5e6,raise_type:"series_a",sector:["fintech","ai"],deck_url:"https://example.com/deck.pdf",settings:{},created_at:new Date().toISOString()}];async function c(e,{params:t}){return(0,s.bi)(async()=>{let{id:e}=await t,i=l.find(t=>t.id===e);if(!i)throw new s.dR("Campaign");return(0,s.Xj)(i)})}async function p(e,{params:t}){return(0,s.bi)(async()=>{let{id:i}=await t,n=await (0,s.Kz)(e,d.gB),o=l.findIndex(e=>e.id===i);if(-1===o)throw new s.dR("Campaign");let a=l[o];if(!a)throw new s.dR("Campaign");let r={...a,...n,deck_url:""===n.deck_url?null:n.deck_url??a.deck_url};return l[o]=r,(0,s.Xj)(r)})}async function u(e,{params:t}){return(0,s.bi)(async()=>{let{id:e}=await t,i=l.findIndex(t=>t.id===e);if(-1===i)throw new s.dR("Campaign");return l.splice(i,1),(0,s.Xj)({deleted:!0})})}let m=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/campaigns/[id]/route",pathname:"/api/campaigns/[id]",filename:"route",bundlePath:"app/api/campaigns/[id]/route"},resolvedPagePath:"/Users/jessewitkowski/Projects/cap-outro/src/app/api/campaigns/[id]/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:_,staticGenerationAsyncStorage:R,serverHooks:h}=m,x="/api/campaigns/[id]/route";function f(){return(0,r.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:R})}},2602:(e,t,i)=>{i.d(t,{Kz:()=>c,Xj:()=>s,bi:()=>l,dR:()=>r,p8:()=>a});var n=i(7070);class o extends Error{constructor(e,t,i){super(t),this.code=e,this.details=i,this.name="AppError"}}class a extends o{constructor(e,t){super("VALIDATION_ERROR",e,t),this.name="ValidationError"}}class r extends o{constructor(e){super("NOT_FOUND",`${e} not found`),this.name="NotFoundError"}}function s(e,t){return n.NextResponse.json({success:!0,data:e,...t&&{meta:t}})}function d(e){if(e instanceof o){let t={UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,VALIDATION_ERROR:400,RATE_LIMITED:429,INTERNAL_ERROR:500}[e.code];return n.NextResponse.json({success:!1,error:{code:e.code,message:e.message,...e.details&&{details:e.details}}},{status:t})}return console.error("Unhandled error:",e),n.NextResponse.json({success:!1,error:{code:"INTERNAL_ERROR",message:"An unexpected error occurred"}},{status:500})}function l(e){return e().catch(e=>e instanceof o||e instanceof Error?d(e):d(Error("Unknown error")))}async function c(e,t){try{let i=await e.json();return t(i)}catch(e){if(e instanceof a)throw e;throw new a("Invalid JSON body")}}},8242:(e,t,i)=>{i.d(t,{G6:()=>h,Qx:()=>_,RX:()=>x,gB:()=>m,jn:()=>u,tc:()=>R});var n=i(6543),o=i(2602);let a=n.Ryn({name:n.Z_8().min(1,"Name is required").max(100,"Name too long"),raise_amount:n.Rxh().positive().optional(),raise_type:n.KmV(["seed","series_a","series_b","bridge","note"]).optional(),sector:n.IXX(n.Z_8()).optional(),deck_url:n.Z_8().url("Invalid URL").optional().or(n.i0J(""))}),r=n.Ryn({name:n.Z_8().min(1).max(100).optional(),status:n.KmV(["draft","active","paused","completed"]).optional(),raise_amount:n.Rxh().positive().optional(),raise_type:n.KmV(["seed","series_a","series_b","bridge","note"]).optional(),sector:n.IXX(n.Z_8()).optional(),deck_url:n.Z_8().url().optional().or(n.i0J(""))}),s=n.Ryn({name:n.Z_8().min(1,"Name is required").max(100,"Name too long"),email:n.Z_8().email("Invalid email").optional().or(n.i0J("")),firm:n.Z_8().max(100).optional(),title:n.Z_8().max(100).optional(),linkedin_url:n.Z_8().url("Invalid URL").optional().or(n.i0J("")),check_size_min:n.Rxh().positive().optional(),check_size_max:n.Rxh().positive().optional(),stages:n.IXX(n.Z_8()).optional(),sectors:n.IXX(n.Z_8()).optional()}),d=n.Ryn({investors:n.IXX(n.Ryn({name:n.Z_8().min(1),email:n.Z_8().email().optional().or(n.i0J("")),firm:n.Z_8().optional(),title:n.Z_8().optional(),linkedin_url:n.Z_8().url().optional().or(n.i0J(""))})).min(1,"At least one investor required").max(1e3,"Maximum 1000 investors per import")}),l=n.Ryn({stage:n.KmV(["not_contacted","contacted","responded","meeting_scheduled","meeting_held","dd","term_sheet","committed","passed"]).optional(),amount_soft:n.Rxh().positive().optional(),amount_committed:n.Rxh().positive().optional(),notes:n.Z_8().max(1e3).optional()}),c=n.Ryn({name:n.Z_8().min(1).max(100),subject:n.Z_8().min(1).max(200),body:n.Z_8().min(1).max(1e4),type:n.KmV(["initial","followup","intro_request","update"]).optional()});function p(e){return t=>{let i=e.safeParse(t);if(!i.success){let e={};throw i.error.issues.forEach(t=>{let i=t.path.join(".")||"root";e[i]||(e[i]=[]),e[i].push(t.message)}),new o.p8("Validation failed",e)}return i.data}}let u=p(a),m=p(r),_=p(s),R=p(d),h=p(l),x=p(c)}};var t=require("../../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),n=t.X(0,[276,972,543],()=>i(3694));module.exports=n})();